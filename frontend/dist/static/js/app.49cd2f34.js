(function(){"use strict";var t={4926:function(t,e,r){var i=r(144),a=r(1096),n=r(9203),o=r(261),s=r(7179),l=r(5057),c=r(2469),u=r(3551),d=r(8236),_=r(6275),m=r(5234),f=r(303),p=(r(7658),function(){var t=this,e=t._self._c;return e(a.Z,[e(d.Z,{attrs:{value:t.main_loader,absolute:""}},[e(_.Z,{attrs:{indeterminate:"",size:"25"}}),t._v(" Loading FRR ")],1),t.main_loader?t._e():e(n.Z,{attrs:{color:"white",elevation:"0",app:""}},[e(c.Z,{staticStyle:{cursor:"pointer"},attrs:{"max-height":"53","max-width":"250",src:r(9647)},on:{click:function(e){return t.$router.push({name:"home"})}}}),e(f.Z,{staticClass:"ma-5",attrs:{clearable:"",width:"30",color:"primary",placeholder:"Search for races",outlined:"","hide-details":"",rounded:"",dense:"","prepend-inner-icon":"mdi-magnify"}}),e(m.Z),e("profile")],1),t.main_loader?t._e():e(u.Z,[t.profile.zwift_id?t._e():e(o.Z,{attrs:{dense:"","single-line":""},scopedSlots:t._u([{key:"actions",fn:function(){return[e(s.Z,{staticClass:"text-capitalize",attrs:{transition:"slide-y-transition",small:"",rounded:"",color:"primary"},on:{click:t.add_zwift}},[t._v(" Link Zwift Account ")]),e(s.Z,{attrs:{small:"",rounded:"",color:"red",icon:""},on:{click:function(e){t.v0=!1}}},[e(l.Z,[t._v("mdi-close")])],1)]},proxy:!0}],null,!1,481143711),model:{value:t.v0,callback:function(e){t.v0=e},expression:"v0"}},[e(l.Z,{attrs:{slot:"icon",color:"warning",size:"36"},slot:"icon"},[t._v(" mdi-alert-circle ")]),t._v(" Zwifit account not linked. Please link your zwift account to join race ")],1),e("link_zwift_account"),e("transition",{attrs:{name:"scroll-x-transition",mode:"out-in",appear:""}},[e("router-view")],1)],1)],1)}),h=[],Z=r(629);const v={computed:{...(0,Z.Se)(["getters_races","getters_race_loader","profile","getters_zwift_link_modal"]),zwift_link_modal_model:{set(t){this.zwift_link_modal(t)},get(){return this.getters_zwift_link_modal}}},methods:{...(0,Z.nv)(["get_races","detail_races","get_profile","zwift_link_modal","link_zwifit"]),caculate_time(t){const e=(new Date).getTime(),r=new Date(t).getTime()-e,i=1e3,a=60*i,n=60*a,o=24*n,s=r/o,l=r%o/n,c=r%n/a,u=r%a/i,d=Math.floor(s),_=Math.floor(l),m=Math.floor(c),f=Math.floor(u);return d+" Days "+_+" Hrs "+m+" Min "+f+" Sec"}}};var g=r(2202),w=r(8819),k=r(3058),y=r(5223),x=r(4192),z=r(248),b=r(1908),P=r(2755),S=r(5476),C=r(5093),O=r(1495),T=function(){var t=this,e=t._self._c;return e(O.Z,{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:t._u([{key:"activator",fn:function({on:r,attrs:i}){return[e(w.Z,[e(l.Z,t._g(t._b({attrs:{large:""}},"v-icon",i,!1),r),[t._v(" mdi-account-circle ")])],1)]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[e(k.Z,[e(z.Z,[e(b.Z,[e(S.Z,[e(l.Z,{attrs:{large:""}},[t._v(" mdi-account-circle ")])],1),e(C.km,[e(C.V9,{staticClass:"text-capitalize"},[t._v(t._s(t.profile.first_name)+" "+t._s(t.profile.second_name))]),e(C.oZ,[t._v(t._s(t.profile.email))])],1),e(P.Z)],1)],1),e(x.Z),e(z.Z,{attrs:{dense:""}},[t.profile.zwift_id?e(b.Z,[e(C.V9,{staticClass:"text--red"},[e(g.Z,{attrs:{dense:"",type:"success"}},[t._v("Zwift ID: "+t._s(t.profile.zwift_id))])],1)],1):e(b.Z,{on:{click:t.add_zwift_profile}},[e(C.V9,{staticClass:"text--red"},[e(g.Z,{attrs:{dense:"",type:"error"}},[t._v("Add Zwift Profile")])],1)],1)],1),e(y.h7,[e(m.Z),e(s.Z,{attrs:{color:"primary",text:""},on:{click:function(e){t.menu=!1}}},[t._v(" Logout ")])],1)],1)],1)},R=[],j={mixins:[v],name:"ProfileComponent",data:()=>({fav:!0,menu:!1,message:!1,hints:!0}),methods:{add_zwift_profile(){this.zwift_link_modal(!0)}}},A=j,$=r(1001),V=(0,$.Z)(A,T,R,!1,null,null,null),E=V.exports,F=r(2570),M=r(6904),B=r(5838),q=function(){var t=this,e=t._self._c;return e(F.Z,{attrs:{transition:"dialog-top-transition","max-width":"600"},scopedSlots:t._u([{key:"default",fn:function(r){return[e(k.Z,{attrs:{disabled:t.loader}},[e(B.Z,{attrs:{color:"primary",dark:""}},[t._v("Link Zwift Profile")]),e(y.ZB,{staticClass:"mt-2"},[e(M.Z,{ref:"form"},[e(f.Z,{attrs:{dense:"",outlined:"",rules:[t.required,t.emailValidator],label:"Zwift Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e(f.Z,{attrs:{dense:"",type:"password",outlined:"",label:"Zwift Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),e(y.h7,{staticClass:"justify-end"},[e(s.Z,{attrs:{text:""},on:{click:function(t){r.value=!1}}},[t._v("Close")]),e(s.Z,{attrs:{text:"",color:"success",loading:t.loader},on:{click:t.link_account}},[t._v("Link ")])],1)],1)]}}]),model:{value:t.zwift_link_modal_model,callback:function(e){t.zwift_link_modal_model=e},expression:"zwift_link_modal_model"}})},I=[];const L=t=>null===t||void 0===t||""===t||!(!Array.isArray(t)||0!==t.length),D=t=>!(!t||!t.length)||"This field is required",U=t=>{if(L(t))return!0;const e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(t)?t.every((t=>e.test(String(t)))):e.test(String(t))||"The Email field must be a valid email"};var H={mixins:[v],data(){return{email:"",password:"",required:D,emailValidator:U,loader:!1}},methods:{link_account(){this.loader=!0,this.$refs.form.validate()&&this.link_zwifit({user_id:this.email,user_password:this.password}).then((()=>{this.loader=!1,this.zwift_link_modal(!1),this.get_profile()})).catch((()=>{this.loader=!1}))}}},N=H,Q=(0,$.Z)(N,q,I,!1,null,null,null),W=Q.exports,X={mixins:[v],name:"App",components:{profile:E,link_zwift_account:W},data:()=>({v0:!0,main_loader:!0}),methods:{add_zwift(){this.zwift_link_modal(!0)}},mounted(){this.main_loader=!0,this.get_profile().then((()=>{this.main_loader=!1})).catch((()=>{this.main_loader=!1}))}},G=X,J=(0,$.Z)(G,p,h,!1,null,null,null),K=J.exports,Y=r(8345),tt=r(4437),et=r(6035),rt=r(3296),it=r(5294),at=function(){var t=this,e=t._self._c;return e(et.Z,{attrs:{color:"red"}},[e("h2",[t._v("Upcoming Races")]),e(x.Z),t.getters_race_loader?e("div",{staticClass:"text-center mt-2"},[e(_.Z,{attrs:{indeterminate:"",color:"primary"}})],1):t._e(),e(it.Z,{staticClass:"mt-2"},t._l(t.getters_races,(function(r){return e(tt.Z,{key:r,attrs:{cols:"12",sm:"4"}},[e(rt.Z,{attrs:{"open-delay":"10"},scopedSlots:t._u([{key:"default",fn:function({hover:i}){return[e(k.Z,{class:i?"mb-5":"",attrs:{rounded:"",elevation:i?18:2},on:{click:function(e){return t.$router.push({name:"race_series_detail",params:{id:r.id}})}}},[e(c.Z,{attrs:{gradient:"to top right, rgba(100,115,201,.33), rgba(25,32,72,.7)",height:"200",src:r.logo}},[e(n.Z,{attrs:{flat:"",color:"rgba(0, 0, 0, 0)"}},[e(m.Z),e(s.Z,{attrs:{color:"white",icon:""}},[e(l.Z,[t._v("mdi-cards-heart-outline")])],1),e(s.Z,{attrs:{color:"white",icon:""}},[e(l.Z,[t._v("mdi-share-variant")])],1)],1)],1),e(y.EB,[t._v(t._s(r.name))]),e(y.Qq,[t._v(t._s(r.start_date)+" - "+t._s(r.end_date)+" ")]),e("v-divier")],1)]}}],null,!0)})],1)})),1)],1)},nt=[],ot={mixins:[v],name:"HomeView",data(){return{}},mounted(){this.get_races()},components:{}},st=ot,lt=(0,$.Z)(st,at,nt,!1,null,null,null),ct=lt.exports,ut=r(3206),dt=r(9089),_t=function(){var t=this,e=t._self._c;return e(it.Z,[e(tt.Z,{attrs:{cols:"12",sm:"12"}},[e(k.Z,{attrs:{elevation:"0"}},[e(y.ZB,[e(ut.Z,{attrs:{continuous:!1,cycle:!0,"show-arrows":!0,height:"300"}},t._l(t.getters_races,(function(t,r){return e(dt.Z,{key:r,attrs:{"reverse-transition":"fade-transition",transition:"fade-transition"}},[e(c.Z,{attrs:{contain:"",src:t.logo}})],1)})),1)],1)],1)],1),e(tt.Z,{staticClass:"mt-0 pt-0",attrs:{cols:"12",sm:"12"}},[e(k.Z,{staticClass:"pt-0 mt-0 ma-4",attrs:{elevation:"0"}},[e(y.EB,{staticClass:"mt-0 pt-0"},[e("h3",[t._v("Race Starting Soon...")]),e(m.Z),e(s.Z,{attrs:{title:"",text:"",color:"primary"},on:{click:function(e){return t.$router.push({name:"series"})}}},[t._v("View All")])],1),e(y.ZB,[e("events_home")],1)],1)],1)],1)},mt=[],ft=function(){var t=this,e=t._self._c;return e("div",[t.getters_races.length>=1?e(it.Z,t._l(t.getters_races,(function(r){return e(tt.Z,{key:r,attrs:{cols:"12",sm:"4"}},[e(k.Z,{attrs:{elevation:"0"},on:{click:function(e){return t.$router.push({name:"race_series_detail",params:{id:r.id}})}}},[e(b.Z,{attrs:{"three-line":""}},[e(S.Z,{attrs:{tile:"",size:"60"}},[e(c.Z,{attrs:{src:r.logo}})],1),e(C.km,[e(C.V9,{staticClass:"mb-1",attrs:{title:r.name}},[t._v(" "+t._s(r.name)+" ")]),e(C.oZ,[t._v("Starts in "),e("b",{staticStyle:{color:"red"}},[t._v(t._s(r.time))])])],1)],1)],1)],1)})),1):[e("center",[t._v("No Race Found")])]],2)},pt=[],ht={mixins:[v],mounted(){setInterval((()=>{this.startTimer()}),1e3)},data(){return{timerOutput:"0"}},computed:{},methods:{startTimer:function(){for(var t of this.getters_races)t.time=this.caculate_time(t.start_date)}}},Zt=ht,vt=(0,$.Z)(Zt,ft,pt,!1,null,null,null),gt=vt.exports,wt={components:{events_home:gt},mixins:[v],data(){return{colors:["green","secondary","yellow darken-4","red lighten-2","orange darken-1"],slides:["First","Second","Third","Fourth","Fifth"]}},mounted(){this.get_races()},methods:{}},kt=wt,yt=(0,$.Z)(kt,_t,mt,!1,null,null,null),xt=yt.exports,zt=r(3333),bt=r(277),Pt=r(7115),St=function(){var t=this,e=t._self._c;return e(et.Z,[t.race_detail?e(it.Z,[e(tt.Z,{attrs:{cols:"12",sm:"10"}},[e(Pt.Z,{attrs:{vertical:""}},[e(zt.Z,[e(l.Z,{attrs:{left:""}},[t._v(" mdi-ticket")]),t._v(" Event Information ")],1),e(zt.Z,[e(l.Z,{attrs:{left:""}}),t._v(" Venue ")],1),e(zt.Z,[e(l.Z,{attrs:{left:""}}),t._v(" Notification ")],1),e(bt.Z,[e(k.Z,[e(c.Z,{attrs:{contain:"",src:t.race_detail.logo}})],1),e(y.EB,[t._v(t._s(t.race_detail.name))]),e(x.Z),e("p",[t._v(t._s(t.race_detail.description))])],1),e(bt.Z,[e(k.Z,{attrs:{flat:""}})],1),e(bt.Z,[e(k.Z,{attrs:{flat:""}})],1)],1)],1),e(tt.Z,{attrs:{cols:"12",sm:"2"}},[e("center",[e(s.Z,{attrs:{color:"primary","x-large":"",rounded:""}},[t._v("Enter Race "),e(l.Z,[t._v("mdi-arrow-right-thin")])],1)],1)],1)],1):t._e()],1)},Ct=[],Ot={mixins:[v],data(){return{race_detail:null}},mounted(){this.detail_race()},methods:{detail_race(){this.$route.params.id&&this.detail_races(this.$route.params.id+"/").then((t=>{this.race_detail=t.data}))}}},Tt=Ot,Rt=(0,$.Z)(Tt,St,Ct,!1,null,null,null),jt=Rt.exports;i.ZP.use(Y.ZP);const At=[{path:"/",name:"home",component:xt},{path:"/race_series",name:"series",component:ct},{path:"/race_series/:id",name:"race_series_detail",component:jt},{path:"*",redirect:"/"}],$t=new Y.ZP({base:"/",routes:At});var Vt=$t,Et=r(196);const Ft=Et.ZP.create({withCredentials:!0});function Mt(t){if(console.log(decodeURIComponent(document.cookie)),!document.cookie)return null;console.log(document.cookie.split(";"));const e=document.cookie.split(";").map((t=>t.trim())).filter((e=>e.startsWith(t+"=")));return 0===e.length?null:decodeURIComponent(e[0].split("=")[1])}Ft.interceptors.request.use((function(t){var e=Mt("csrftoken");return t.headers["X-CSRFToken"]=e,t})),i.ZP.prototype.$http=Ft;var Bt=Ft;i.ZP.use(Z.ZP);var qt=new Z.ZP.Store({state:{profile:null,races:[],race_loader:!1,zwift_link_modal:!1},getters:{profile:t=>t.profile,getters_zwift_link_modal:t=>t.zwift_link_modal,getters_races:t=>t.races,getters_race_loader:t=>t.race_loader},mutations:{mutation_profile(t,e){t.profile=e},mutation_races(t,e){t.races=e},mutation_race_loader(t,e){t.race_loader=e},mutation_zwift_link_modal(t,e){t.zwift_link_modal=e}},actions:{zwift_link_modal({commit:t},e){t("mutation_zwift_link_modal",e)},link_zwifit({commit:t},e){return new Promise(((t,r)=>{Bt.post("/api/users/zwift_link/",e).then((e=>{t(e)})).catch((t=>{r(t)}))}))},get_profile({commit:t}){return t("mutation_race_loader",!0),new Promise(((e,r)=>{Bt.get("/api/users/me/").then((r=>{t("mutation_profile",r.data),e(r)})).catch((t=>{r(t)}))}))},get_races({commit:t}){return t("mutation_race_loader",!0),new Promise(((e,r)=>{Bt.get("/api/race/").then((r=>{t("mutation_race_loader",!1),t("mutation_races",r.data),e(r)})).catch((e=>{t("mutation_race_loader",!1),r(e)}))}))},detail_races({commit:t},e){return t("mutation_race_loader",!0),new Promise(((r,i)=>{Bt.get("/api/race/"+e).then((e=>{t("mutation_race_loader",!1),r(e)})).catch((e=>{t("mutation_race_loader",!1),i(e)}))}))}},modules:{}}),It=r(2250);i.ZP.use(It.Z);var Lt=new It.Z({});i.ZP.config.productionTip=!1,new i.ZP({router:Vt,store:qt,vuetify:Lt,render:t=>t(K)}).$mount("#app")},9647:function(t,e,r){t.exports=r.p+"static/img/FRR.17adbd06.png"}},e={};function r(i){var a=e[i];if(void 0!==a)return a.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,r),n.exports}r.m=t,function(){var t=[];r.O=function(e,i,a,n){if(!i){var o=1/0;for(u=0;u<t.length;u++){i=t[u][0],a=t[u][1],n=t[u][2];for(var s=!0,l=0;l<i.length;l++)(!1&n||o>=n)&&Object.keys(r.O).every((function(t){return r.O[t](i[l])}))?i.splice(l--,1):(s=!1,n<o&&(o=n));if(s){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[i,a,n]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.p="/"}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,n,o=i[0],s=i[1],l=i[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(l)var u=l(r)}for(e&&e(i);c<o.length;c++)n=o[c],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(u)},i=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=r.O(void 0,[998],(function(){return r(4926)}));i=r.O(i)})();
//# sourceMappingURL=app.49cd2f34.js.map